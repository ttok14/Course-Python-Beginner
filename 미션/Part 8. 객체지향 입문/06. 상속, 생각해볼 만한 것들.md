### **미션 제목**: 컴포지션과 상속을 활용한 캐릭터 전투 시스템 구현

### **미션 내용**

비디오 게임의 캐릭터와 무기를 클래스로 모델링합니다. `Character`라는 부모 클래스와 이를 상속받는 `Warrior`, `Mage` 자식 클래스를 정의합니다. 동시에, 캐릭터가 '소유'하는 `Weapon` 클래스의 구체적인 종류인 `Sword`, `Staff` 클래스를 정의합니다.

최종적으로 전사(Warrior)와 마법사(Mage) 인스턴스를 각각 생성하고, 각자에게 맞는 무기를 장착시켜줍니다. 그 후, 전사가 마법사를 공격하여 마법사의 체력(hp)이 감소하는 상황을 코드로 구현합니다.

### **미션 요구 사항**

1.  **Weapon 클래스 계층 정의**:
    *   `Sword`와 `Staff` 클래스를 정의합니다.
    *   각 무기 클래스는 `name` (문자열)과 `power` (정수) 속성을 `__init__` 메서드에서 초기화합니다.
    *   예: `Sword("강철 검", 10)`, `Staff("지혜의 지팡이", 8)`

2.  **Character 클래스 계층 정의**:
    *   `Character` 부모 클래스를 정의합니다.
    *   `__init__` 메서드는 `name`(이름), `hp`(체력), `weapon`(무기 객체)을 인자로 받습니다. 여기서 `weapon`은 `Sword` 또는 `Staff`의 인스턴스가 됩니다. 이는 컴포지션(has-a) 관계를 구현하는 핵심입니다.
    *   `attack` 메서드를 정의합니다. 이 메서드는 공격 대상(`target`)을 인자로 받습니다. 메서드 실행 시, `"{자신 이름}"이(가) "{상대 이름}"을(를) 공격합니다!` 라는 메시지를 출력하고, 대상의 `hp`를 자신의 무기(`self.weapon`)가 가진 `power`만큼 감소시킵니다.
    *   `show_status` 메서드를 정의합니다. `"{캐릭터 이름}"의 현재 체력: {hp}` 형식으로 현재 상태를 출력합니다.
    *   타입 힌트를 적극적으로 활용합니다. `__init__`의 `weapon` 매개변수와 `attack`의 `target` 매개변수에 적절한 타입 힌트를 적용합니다. `Character` 클래스 자신을 타입 힌트로 사용해야 할 경우, 문자열 형태(`'Character'`)로 지정합니다.

3.  **자식 클래스 (Warrior, Mage) 정의**:
    *   `Warrior`와 `Mage` 클래스는 `Character` 클래스를 상속받아(is-a) 정의합니다.
    *   각 자식 클래스의 `__init__` 메서드는 부모 클래스의 `__init__`을 `super()`를 통해 호출하여 초기화를 위임합니다.

4.  **시나리오 실행**:
    *   `Sword`와 `Staff` 인스턴스를 각각 생성합니다.
    *   `Warrior` 인스턴스를 생성하고, `Sword` 인스턴스를 무기로 장착시킵니다.
    *   `Mage` 인스턴스를 생성하고, `Staff` 인스턴스를 무기로 장착시킵니다.
    *   전투 전, 전사와 마법사의 상태를 `show_status` 메서드로 각각 출력합니다.
    *   전사가 마법사를 `attack` 메서드로 공격합니다.
    *   전투 후, 다시 전사와 마법사의 상태를 `show_status` 메서드로 각각 출력하여 마법사의 체력이 감소했는지 확인합니다.

---

### **미션 풀이**

이 섹션에서는 미션 요구 사항을 단계별로 해결하는 과정을 설명합니다.

**1. 무기 클래스 정의 (`Sword`, `Staff`)**

먼저 캐릭터가 사용할 무기를 모델링합니다. `Sword`와 `Staff` 클래스는 각각 `name`과 `power`라는 두 가지 속성을 가집니다. `__init__` 메서드를 통해 인스턴스가 생성될 때 이 값들을 초기화합니다.

```python
class Sword:
    def __init__(self, name: str, power: int):
        self.name = name
        self.power = power

class Staff:
    def __init__(self, name: str, power: int):
        self.name = name
        self.power = power
```

**2. 기본 캐릭터 클래스 정의 (`Character`)**

다음으로 모든 캐릭터의 공통 기반이 될 `Character` 부모 클래스를 정의합니다.

*   `__init__` 에서는 `name`, `hp`와 함께 `weapon` 객체를 인자로 받습니다. 이는 **컴포지션** 관계를 나타냅니다. `weapon`의 타입 힌트로 `Union[Sword, Staff]`를 사용하여 `Sword` 또는 `Staff` 객체만 허용함을 명시할 수 있습니다.
*   `attack` 메서드는 공격 대상 `target`을 인자로 받습니다. `target`의 타입 힌트는 `Character` 클래스 자신을 참조해야 하므로, 문자열 `'Character'`를 사용합니다. 이 메서드는 `self.weapon.power`를 이용해 상대의 `hp`를 감소시킵니다.
*   `show_status` 메서드는 캐릭터의 현재 상태를 출력합니다.

```python
# Union을 사용하기 위해 typing 모듈에서 가져옵니다.
from typing import Union
# 클래스 내에서 자기 자신을 타입 힌트로 사용하기 위해 필요합니다.
from __future__ import annotations

class Character:
    def __init__(self, name: str, hp: int, weapon: Union[Sword, Staff]):
        self.name = name
        self.hp = hp
        self.weapon = weapon

    def attack(self, target: 'Character'):
        print(f"{self.name}이(가) {target.name}을(를) 공격합니다!")
        target.hp -= self.weapon.power

    def show_status(self):
        print(f"{self.name}의 현재 체력: {self.hp}")
```

**3. 자식 클래스 정의 (`Warrior`, `Mage`)**

`Warrior`와 `Mage` 클래스는 `Character`를 **상속**받아 정의합니다. 상속을 통해 `Character`의 모든 속성과 메서드를 물려받으므로, 별도의 로직을 추가할 필요가 없습니다. `super().__init__()`를 호출하여 부모 클래스의 초기화 로직을 그대로 사용합니다.

```python
class Warrior(Character):
    def __init__(self, name: str, hp: int, weapon: Sword):
        super().__init__(name, hp, weapon)

class Mage(Character):
    def __init__(self, name: str, hp: int, weapon: Staff):
        super().__init__(name, hp, weapon)
```
> **참고**: 자식 클래스의 `__init__`에서 `weapon`의 타입 힌트를 각각 `Sword`, `Staff`로 더 구체화할 수 있습니다. 이는 전사는 검만, 마법사는 지팡이만 사용한다는 규칙을 코드 수준에서 강제하는 좋은 방법입니다.

**4. 시나리오 실행**

모든 클래스 정의가 완료되면, 미션 요구사항에 따라 시나리오를 실행하는 코드를 작성합니다.

1.  무기 인스턴스 생성
2.  캐릭터 인스턴스 생성 (무기 인스턴스를 전달)
3.  전투 전 상태 출력
4.  공격 실행
5.  전투 후 상태 출력

이 과정을 통해 `mage`의 `hp`가 `warrior`의 무기(`sword`) `power`만큼 감소하는 것을 확인할 수 있습니다.

---

#### **최종 전체 소스코드**

```python
# from __future__ import annotations는 Python 3.7+에서 타입 힌트 고급 기능을 위해 사용됩니다.
# 클래스 정의 내에서 자기 자신('Character')을 타입으로 참조할 수 있게 해줍니다.
from __future__ import annotations
from typing import Union

# 1. Weapon 클래스 계층 정의
class Sword:
    """검을 나타내는 클래스"""
    def __init__(self, name: str, power: int):
        self.name = name
        self.power = power

class Staff:
    """지팡이를 나타내는 클래스"""
    def __init__(self, name: str, power: int):
        self.name = name
        self.power = power

# 2. Character 클래스 계층 정의
class Character:
    """모든 캐릭터의 부모 클래스"""
    def __init__(self, name: str, hp: int, weapon: Union[Sword, Staff]):
        self.name = name
        self.hp = hp
        self.weapon = weapon  # 컴포지션(has-a): Character가 Weapon을 가짐

    def attack(self, target: 'Character'):
        """대상을 공격하여 대상의 hp를 자신의 무기 공격력만큼 감소시킵니다."""
        print(f"⚔️ {self.name}이(가) {target.name}을(를) 공격합니다! (공격력: {self.weapon.power})")
        target.hp -= self.weapon.power

    def show_status(self):
        """캐릭터의 현재 체력을 출력합니다."""
        print(f"❤️ {self.name}의 현재 체력: {self.hp}")


# 3. 자식 클래스 (Warrior, Mage) 정의
class Warrior(Character):
    """Character를 상속받는 전사 클래스"""
    # 전사는 Sword만 장착한다고 가정하고 타입 힌트를 더 구체적으로 지정
    def __init__(self, name: str, hp: int, weapon: Sword):
        super().__init__(name, hp, weapon)

class Mage(Character):
    """Character를 상속받는 마법사 클래스"""
    # 마법사는 Staff만 장착한다고 가정하고 타입 힌트를 더 구체적으로 지정
    def __init__(self, name: str, hp: int, weapon: Staff):
        super().__init__(name, hp, weapon)


# 4. 시나리오 실행
if __name__ == "__main__":
    # 무기 인스턴스 생성
    steel_sword = Sword(name="강철 검", power=10)
    wisdom_staff = Staff(name="지혜의 지팡이", power=8)

    # 캐릭터 인스턴스 생성 및 무기 장착(컴포지션)
    warrior = Warrior(name="강철의 전사", hp=100, weapon=steel_sword)
    mage = Mage(name="지혜의 마법사", hp=80, weapon=wisdom_staff)

    # 전투 전 상태 출력
    print("--- 전투 시작 전 ---")
    warrior.show_status()
    mage.show_status()
    print("-" * 20)

    # 전사가 마법사를 공격
    warrior.attack(mage)

    # 전투 후 상태 출력
    print("\n--- 전투 종료 후 ---")
    warrior.show_status()
    mage.show_status()
    print("-" * 20)

```