### **미션 제목**: 고급 디버깅 미션: 조건부 및 트리거 브레이크 포인트 활용

### **미션 내용**

다음은 특정 조건의 고객에게 이메일을 발송하는 로직을 디버깅하는 상황입니다.
`process_users` 함수는 사용자 목록을 순회하며, 상태가 'vip'인 고객에게는 이메일을 발송(`send_vip_email`)하고, 포인트가 0인 비활성 고객은 계정을 비활성화(`deactivate_user`)합니다.

미션의 목표는 **사용자 비활성화 로직(`deactivate_user`)이 한 번 이상 실행된 후에, `id`가 'user03'인 VIP 고객의 이메일 발송(`send_vip_email`) 직전에 코드를 멈추도록** 디버거를 설정하는 것입니다.

아래 코드를 `mission.py` 파일에 복사하여 미션을 진행합니다.

```python
# mission.py

def send_vip_email(user: dict):
    """VIP 사용자에게 이메일을 발송하는 함수입니다."""
    # 이메일 발송 로직이 있다고 가정합니다.
    print(f"VIP 이메일 발송: {user['name']} ({user['id']})")

def deactivate_user(user: dict):
    """포인트가 0인 사용자를 비활성화하는 함수입니다."""
    # 사용자 비활성화 로직이 있다고 가정합니다.
    print(f"사용자 비활성화 처리: {user['name']} ({user['id']})")

def process_users(users: list[dict]):
    """전체 사용자 목록을 처리합니다."""
    print("사용자 처리 시작...")
    for user in users:
        # VIP 사용자 처리
        if user.get('status') == 'vip':
            send_vip_email(user)

        # 비활성화 대상 사용자 처리
        if user.get('status') == 'inactive' and user.get('points', 0) == 0:
            deactivate_user(user)
    print("사용자 처리 완료.")


# --- 메인 실행 코드 ---
if __name__ == "__main__":
    user_list = [
        {'id': 'user01', 'name': '김지아', 'status': 'vip', 'points': 1200},
        {'id': 'user02', 'name': '박서준', 'status': 'inactive', 'points': 0},
        {'id': 'user03', 'name': '이수빈', 'status': 'vip', 'points': 2500},
        {'id': 'user04', 'name': '정하윤', 'status': 'active', 'points': 500},
        {'id': 'user05', 'name': '최우진', 'status': 'vip', 'points': 800},
    ]
    process_users(user_list)
```

### **미션 요구 사항**

1.  제공된 코드를 수정하지 않고, VS Code의 디버깅 기능만을 사용해서 해결합니다.
2.  `deactivate_user` 함수 내부(`print`문이 있는 라인)에 트리거 역할을 할 브레이크 포인트를 설정합니다.
3.  `send_vip_email` 함수 내부(`print`문이 있는 라인)에 2번 브레이크 포인트에 의해 트리거될 브레이크 포인트를 설정합니다.
4.  3번에서 설정한 브레이크 포인트에 `user['id'] == 'user03'` 이라는 조건식을 추가하여, 특정 사용자일 때만 멈추도록 설정합니다.
5.  디버깅을 실행하여, `deactivate_user` 함수가 호출된 후 'user03'의 `send_vip_email` 함수에서 정확히 멈추는지 확인합니다.

---

### **미션 풀이**

본 미션은 VS Code의 고급 디버깅 기능인 '조건부 브레이크 포인트'와 '트리거된 브레이크 포인트'를 함께 사용하여 복잡한 시나리오를 해결하는 과정을 다룹니다. 아래 절차에 따라 미션을 해결할 수 있습니다.

#### **1단계: 브레이크 포인트 설정**

먼저, 미션에서 요구하는 두 위치에 일반 브레이크 포인트를 설정합니다.

1.  **트리거가 될 브레이크 포인트**: `deactivate_user` 함수 내의 `print`문이 있는 라인(13번 라인)의 좌측을 클릭하여 빨간 점(브레이크 포인트)을 생성합니다. 이 브레이크 포인트는 다른 브레이크 포인트를 활성화시키는 '방아쇠' 역할을 할 것입니다.
2.  **종속될 브레이크 포인트**: `send_vip_email` 함수 내의 `print`문이 있는 라인(6번 라인)의 좌측을 클릭하여 두 번째 브레이크 포인트를 생성합니다. 이 브레이크 포인트는 특정 조건 하에서만 동작하도록 설정될 것입니다.

#### **2단계: 종속 및 조건부 설정**

이제 `send_vip_email` 함수에 설정한 브레이크 포인트를 미션의 요구사항에 맞게 수정합니다.

1.  VS Code 좌측의 '실행 및 디버그(Run and Debug)' 패널을 엽니다.
2.  'BREAKPOINTS' 섹션에 방금 설정한 두 개의 브레이크 포인트가 표시됩니다.
3.  `mission.py`의 6번 라인에 해당하는 브레이크 포인트 위에서 마우스 오른쪽 버튼을 클릭하고 **`Edit Breakpoint...`** 메뉴를 선택합니다.
4.  입력창이 나타나면 두 가지 조건을 설정합니다.
    *   **조건(Expression)**: 디버거가 멈출 조건을 지정합니다. `user['id'] == 'user03'` 이라고 입력합니다. 이 설정으로 인해 `send_vip_email` 함수가 호출되더라도 `user`의 `id`가 'user03'일 때만 브레이크 포인트가 동작하게 됩니다.
    *   **트리거(Triggered by)**: 이 브레이크 포인트가 활성화될 조건을 다른 브레이크 포인트와 연결합니다. 드롭다운 메뉴에서 `deactivate_user` 함수에 설정한 브레이크 포인트 (`mission.py, 13번 라인`)를 선택합니다.
5.  `Enter` 키를 눌러 설정을 완료합니다. 이제 6번 라인의 브레이크 포인트 아이콘이 다른 모양(보통 파란색 마름모 안의 빨간 점)으로 변경되며, 종속 관계가 설정되었음을 나타냅니다.

#### **3단계: 디버깅 실행 및 결과 확인**

모든 설정이 완료되었습니다. 이제 디버깅을 시작하여 결과가 올바르게 나오는지 확인합니다.

1.  `F5` 키를 누르거나 '실행 및 디버그' 패널 상단의 녹색 화살표 버튼을 눌러 디버깅을 시작합니다.
2.  코드 실행이 시작되고 `process_users` 함수가 순차적으로 실행됩니다.
3.  `user02` 처리 시 `deactivate_user` 함수가 호출되고, 13번 라인의 트리거 브레이크 포인트에서 잠시 멈춥니다. 디버거를 계속 진행(`F5` 또는 Continue 버튼)시키면 이때부터 `send_vip_email`의 브레이크 포인트가 활성화됩니다.
4.  이후 `user03` 처리 시 `send_vip_email` 함수가 호출되면, 6번 라인에서 두 가지 조건(`user['id'] == 'user03'` 이고, 트리거가 이미 발동됨)이 모두 충족되므로 **디버거가 실행을 멈춥니다.**

이 지점에서 변수, 호출 스택 등을 분석하여 'user03'에 대한 이메일 발송 직전의 프로그램 상태를 정확히 확인할 수 있습니다.

#### **최종 전체 소스코드**

본 미션은 코드를 수정하지 않으므로, 아래는 디버깅 대상이 되는 원본 전체 소스코드입니다.

```python
# mission.py

def send_vip_email(user: dict):
    """VIP 사용자에게 이메일을 발송하는 함수입니다."""
    # 이메일 발송 로직이 있다고 가정합니다.
    print(f"VIP 이메일 발송: {user['name']} ({user['id']})")

def deactivate_user(user: dict):
    """포인트가 0인 사용자를 비활성화하는 함수입니다."""
    # 사용자 비활성화 로직이 있다고 가정합니다.
    print(f"사용자 비활성화 처리: {user['name']} ({user['id']})")

def process_users(users: list[dict]):
    """전체 사용자 목록을 처리합니다."""
    print("사용자 처리 시작...")
    for user in users:
        # VIP 사용자 처리
        if user.get('status') == 'vip':
            send_vip_email(user)

        # 비활성화 대상 사용자 처리
        if user.get('status') == 'inactive' and user.get('points', 0) == 0:
            deactivate_user(user)
    print("사용자 처리 완료.")


# --- 메인 실행 코드 ---
if __name__ == "__main__":
    user_list = [
        {'id': 'user01', 'name': '김지아', 'status': 'vip', 'points': 1200},
        {'id': 'user02', 'name': '박서준', 'status': 'inactive', 'points': 0},
        {'id': 'user03', 'name': '이수빈', 'status': 'vip', 'points': 2500},
        {'id': 'user04', 'name': '정하윤', 'status': 'active', 'points': 500},
        {'id': 'user05', 'name': '최우진', 'status': 'vip', 'points': 800},
    ]
    process_users(user_list)
```